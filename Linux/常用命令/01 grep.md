# Grep
> document: https://www.gnu.org/software/grep/manual/grep.html

## 1. 介绍
> 给定一个或多个模式，**grep**在输入文件中搜索与这些模式匹配的内容。当它在一行中发现匹配项，它默认情况下将匹配项拷贝到标准输入输出，或者使用选项生成您的请求的任何其他类型的输出。  
> **Grep**没有对文本的长度做出任何限制，只要文本的大小不超出内存的限制，并且它可以匹配一行中的任意字符。如果输入文本的最后一个字节不是一个新行，**grep**将会自动补充一个换行符。由于换行符也是模式列表的分隔符，因此无法匹配文本中的换行符。

## 2. 调用
``` shell
grep [option ...] [patterns] [file...]
```
> 使用**grep**的时候可以输入零个或多个option参数，零个或多个file参数。patterns参数要求一个或多个由换行符分隔的模式，当通过"-e patterns"或"-f file"选项提供模式时，该参数将被省略。在shell命令中使用**grep**时，通常引用该模式。

### 2.1 命令行选项
> **Grep**拥有一系列丰富的选项：一些来源于**POSIX**，另一部分来源于**GNU**拓展。长选项名的总是来源于**GNU**拓展，即使对于来自**POSIX**规范的选项也是如此。**POSIX**在其短名称下指定的选项被明确标记为便于**POSIX**可移植编程。提供了一些选项名称以与较旧或更奇特的实现兼容。  
  
#### 2.1.1 通用程序信息
> --help  
> 打印一条使用消息，简要总结命令行选项和错误报告地址，然后退出。

> -V | --version  
> 将**grep**的版本号打印到标准输入输出流。此版本号应该包含在所有的错误报告中。

#### 2.1.2 匹配控制
> -e *patterns*  
> --regexp=*patterns*  
> pattens中的换行符将多个pattern分隔开。如果此选项被多次使用或者与 **-f(--file)** 选项组合使用，将搜索给定的所有模式。在**shell**命令中使用**grep**，通常应该引用该模式。（**-e**由**POSIX**指定。）
![alt 匹配控制-e参数](../img/常用命令/01%20grep/grep_e.png)

> -f file  
> --file=*file*  
> 从文件中按行提取匹配的文本。如果此选项被多次使用或与 **-e(--regrep)** 选项组合使用，将搜索给定的所有模式。当文件为"-"时，将从标准输入输出读取输入文本。空文件包含零个模式，因此不匹配任何模式。(**-f**由**POSIX**指定。)  
> 注：应该注意的是，这个模式并非指定要搜索的文本，而是指定存储了pattern的文本！
![alt 匹配控制-f参数](../img/常用命令/01%20grep/grep_f.png)

> -i  
> -y  
> --ignore-case  
> 忽略模式和输入数据的大小写区别，使大小写不同的字符相互匹配。  
![alt 匹配控制-i参数](../img/常用命令/01%20grep/grep_e.png)

> --no-ignore-case  
> [默认选项]区分模式和输入数据的大小写区别。

> -v  
> --invert-match  
> 反转匹配结果，显示没有匹配的行(**-v**由**POSIX**指定。)  
![alt 匹配控制-v参数](../img/常用命令/01%20grep/grep_v.png)

> -w  
> --word-regexp  
> 选取那些整个单词匹配模式的行。文本的开头必须匹配模式，除非文本的开头以非**word**组成的字符。同样，文本的结尾也要满足上述要求。**Word**组成在**grep**中包含*字母*、*数字*和*下划线*。  
> 当命令中同时指定参数 **-x** 的时候，**-w** 参数将会失效。  
> 由于，**-w** 选项可以匹配不以**word**成分开头和结尾的子字符串，因此它不同于用"\<"和">"包围的正则表达式。  
> 注：也就是说，可以使用 **-w** 参数匹配到"@"等非 **word** 字符，但是无法用"\<"和">"包围的正则表达式匹配非 **word** 字符。  
![alt 匹配控制-w参数](../img/常用命令/01%20grep/grep_w.png)

> -x  
> --line-regexp  
> 只选择与整行完全匹配的匹配项。对于正则表达式模式，这就像将每个模式用括号括起来，然后用“^”和“$”包围它。（-x由POSIX指定。）   
![alt 匹配控制-x参数](../img/常用命令/01%20grep/grep_x.png)